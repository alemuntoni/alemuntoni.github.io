<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Visual Computing Library: VCLib Meshes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
       <script type="text/javascript">
           DoxygenAwesomeDarkModeToggle.init()
       </script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Visual Computing Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('core_mesh.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">VCLib Meshes</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Mesh data structure of the VCLib core module is a generic data structure that can be customized to fit the user needs. The Mesh is composed of Elements, that are the basic building blocks of the Mesh, and Components, that are the data that the Elements store. The Mesh is organized in Containers, that store the Elements and the Components of the Mesh.</p>
<p>To explain how Mesh customization is possible, we first need to define the entities involved that compose a VCLib Mesh, and to do that we analyze the TriMesh example:</p>
<div class="image">
<object type="image/svg+xml" data="trimesh.svg" style="pointer-events: none;"></object>
<div class="caption">
TriMesh</div></div>
    <p>In this simplified scheme of the TriMesh, there are several entities involved:</p>
<ul>
<li>The overall Mesh data structure (blue);</li>
<li>Elements (green);</li>
<li>Element Containers (red);</li>
<li>Components (yellow) and the data they store internally (orange);</li>
</ul>
<p>The overall Mesh data structure is composed of two Containers of Vertex and Face Elements, and some other Components that store some data. Looking the Elements in detail, we see that each Element is composed of Components: for example, a Vertex could be organized as follows:</p>
<div class="image">
<object type="image/svg+xml" data="trimesh_vertex.svg" style="pointer-events: none;"></object>
<div class="caption">
A Vertex Element</div></div>
    <p>In this case, the Vertex Element has for example the Coordinate, Flags, Normal and Color components, each one of them stores its data and expose it trough appropriate member functions.</p>
<p>To understand how these entities are organized and implemented, we suggest to take a look at the <a class="el" href="mesh_components_page.html">Components</a>, <a class="el" href="mesh_elements_page.html">Elements</a> and <a class="el" href="mesh_containers_page.html">Containers</a> pages.</p>
<p>The next sections will introduce some concepts that you should know before using the VCLib Meshes.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Components</h2>
<p>As you may have already noticed, components can be part of both Elements and Meshes. In fact, Components in VCLib are implemented as generic as possible, in such a way that can be used in different contexts (the main reason behind this choice is to avoid code duplication).</p>
<p>For example, the <a class="el" href="classvcl_1_1comp_1_1Color.html" title="The Color class represents a RGBA color that will be part of an Element (e.g. Vertex,...">vcl::comp::Color</a> component can be used by Elements, but also by the Mesh (it may be useful sometimes to assign a uniform color to the Mesh). The color component exposes the member functions <code>color()</code> and <code>color() const</code>, meaning that it will be possible to call these functions from all the Elements/Meshes that will have that component:</p>
<div class="fragment"><div class="line">AMeshType m; <span class="comment">// A Mesh type that has the Color component</span></div>
<div class="line"> </div>
<div class="line">m.color() = vcl::Color::Red;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span>&amp; v : m.vertex(0); <span class="comment">// Get a vertex from the mesh</span></div>
<div class="line"> </div>
<div class="line">v.color() = vcl::Color::Green; <span class="comment">// The Vertex Element of AMeshType has the Color component</span></div>
</div><!-- fragment --><p>When Components are part of Elements, they can actually be of two categories:</p>
<ul>
<li>Horizontal (default): The data of the Component is stored inside the Component itself;</li>
<li>Vertical: The Component does not store its data, but it only exposes the member functions that allow to access it. The storage is demanded to the parent Container. When a Component is Vertical, could be:<ul>
<li>Persistent: data is always available in the parent Container;</li>
<li>Optional: data can be enabled and disabled at runtime, allowing to avoid memory usage for components that are not needed in some contexts.</li>
</ul>
</li>
</ul>
<p>For example, the <a class="el" href="classvcl_1_1trimesh_1_1Vertex.html">vcl::trimesh::Vertex</a> class (that is the Vertex Element of the TriMesh class), has some horizontal components (Coordinate, Flags, Normal, Color, the components that are used more often), and some optional (Adjacent Faces, Adjacent Vertices, Texture Coordinates, the one that are used only on some contexts). This means that each Vertex will store internally only the horizontal components:</p>
<div class="image">
<object type="image/svg+xml" data="trimesh_vertex_components.svg" style="pointer-events: none;"></object>
<div class="caption">
Vertex Components</div></div>
    <p>The Vertex container will then store both the Elements and the Vertical components (if they are optional, only the enabled ones) of the Elements. For example, assuming that we enable only the Adjacent Faces of the previous Vertex Element:</p>
<div class="image">
<object type="image/svg+xml" data="vertex_container.svg" style="pointer-events: none;"></object>
<div class="caption">
Vertex Container with Optional Components</div></div>
    <p>For the user, the usage of Horizontal or Vertical components is the same. The only thing that the user must check is wether a Component is Optional, and in that case, enable that component before using it. Every VCLib Container provides a list of member functions for all the Components that may be Optional for certain Components (note: these member functions are available <em>only when the component is actually optional</em>). These member functions are:</p>
<ul>
<li><code>m.isPer&lt;Element&gt;&lt;Component&gt;Enabled()</code>: returns a boolean indicating whether the optional <code>Component</code> of the <code>Element</code> is enabled;</li>
<li><code>m.enablePer&lt;Element&gt;&lt;Component&gt;()</code>: enables the optional <code>Component</code> of the <code>Element</code>;</li>
<li><code>m.disablePer&lt;Element&gt;&lt;Component&gt;()</code>: disable and free the memory of the optional <code>Component</code> of the <code>Element</code>.</li>
</ul>
<p>In the example before, to use the <code>AdjacentFaces</code> component of the <code>Vertex</code> element of a mesh <code>m</code>, you should call first:</p>
<div class="fragment"><div class="line">m.enablePerVertexAdjacentFaces();</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md_docs_2pages_21__core.html">VCLib Core Module</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
